function ListScreenManager(){var n=this;this.isprocessing=!1;this.listview=!1;this.editview=!1;this.serverresponse=null;this.searchparams=null;this.list=[];this.edititem=null;this.edititemcopy=null;this.getlistcallback=null;this.getitemcallback=null;this.saveitemcallback=null;this.createsaveobject=function(){for(var n=angular.copy(this.list),t=n.Values.length-1;t>=0;t--)n.Values[t].HasChanges==0&&n.Values.splice(t,1);return n};this.loadlist=function(){this.getlistcallback&&this.getlistcallback(function(t){this.isprocessing=!1;t.data.result?(n.list=t.data.data,console.trace(t.data.data)):this.serverresponse=t.data.message},function(){this.isprocessing=!1},this.searchparams)};this.showdetail=function(t){this.getitemcallback&&this.getitemcallback(t,function(t){n.listview=!1;n.editview=!0;n.edititem=t.data.data;n.edititemcopy=angular.copy(n.edititem)},function(){})};this.canceledit=function(){this.edititem=null;this.listview=!0;this.editview=!1};this.apply=function(){angular.copy(this.edititemcopy,this.edititem);this.edititemcopy=null;this.edititem.HasChanges!=1&&(this.edititem.HasChanges=2);this.edititem=null;this.listview=!0;this.editview=!1};this.saveitem=function(){this.isprocessing=!0;var n=createsaveobject();this.saveitemcallback(n,function(n){this.isprocessing=!1;n.data.result?this.detailitem=n.data.data:this.serverresponse=n.data.message},null)};this.Configure=function(n){n.getlistcallback&&(this.getlistcallback=n.getlistcallback);n.getitemcallback&&(this.getitemcallback=n.getitemcallback);n.saveitemcallback&&(this.saveitemcallback=n.saveitemcallback);n.listview&&(this.listview=n.listview);n.editView&&(this.editView=n.editView)}}window.hasapp={};window.Translations=window.Translations||{},function(n,t){"use strict";t(function(){var t=n.fwwc})}(window,jQuery,Translations),function(n,t){"use strict";var i=n.module("app",["ngSanitize","ngCookies","ui.router","ngAnimate"]);i.config(["$httpProvider","$stateProvider","$urlRouterProvider",function(n,t,i){n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";n.defaults.withCredentials=!0;i.otherwise("dashboard");t.state("dashboard",{url:"/dashboard",templateUrl:"dashboard"}).state("setup",{url:"/setup",templateUrl:"setup"}).state("setup.event",{url:"/event",templateUrl:"event"}).state("setup.basiccode",{url:"/basiccode",templateUrl:"basiccode"}).state("setup.currency",{url:"/currency",templateUrl:"currency"}).state("sales",{url:"/sales",templateUrl:"sales"}).state("sales.account",{url:"/account",templateUrl:"account"}).state("sales.contact",{url:"/contact",templateUrl:"contact"}).state("sales.proposal",{url:"/proposal",templateUrl:"proposal"}).state("inventory",{url:"/inventory",templateUrl:"inventory"})}]);i.filter("propsFilter",function(){return function(t,i){var r=[];return n.isArray(t)?t.forEach(function(n){for(var u,o,f=!1,e=Object.keys(i),t=0;t<e.length;t++)if(u=e[t],o=i[u].toLowerCase(),n[u].toString().toLowerCase().indexOf(o)!==-1){f=!0;break}f&&r.push(n)}):r=t,r}});n.module("sprintf",[]).filter("sprintf",function(){return function(){return sprintf.apply(null,arguments)}}).filter("fmt",["$filter",function(n){return n("sprintf")}]).filter("vsprintf",function(){return function(n,t){return vsprintf(n,t)}}).filter("vfmt",["$filter",function(n){return n("vsprintf")}]);i.filter("numberFormat",function(){return function(n){return Globalize.format(n,t.numberFormat)}})}(window.angular,Data),function(n,t,i,r){"use strict";var u=n.hasapp||{};u.utils=function(){function s(n){return n.toString().toLowerCase()==="true"}function v(n,t){var r=f(n),i=f(t),u,o;e(r)||e(i)||(u=r.offset().top-i.offset().top,i.offset({top:r.offset().top}),o=i.css("padding-bottom").replace("px",""),i.css("padding-bottom",o+u+"px"))}function f(n){if(!n)return jQuery();var i=n;return t.isPlainObject(n)&&(i=t(n)),i}function e(n){var t=f(n);return!!!t[0]}function y(){return h("#isAuthenticated")}function p(){var n=t("#loginPath").val();return function(){return n}()}function h(n){var i=t(n).val(),r=s(i);return function(){return r}()}function c(n,t){c(n,t,null)}function c(n,i,r){if(t("#Modal h3").length==0&&t("#Modal").prepend("<h3><\/h3>"),t("#Modal h3").html(i),t("#Modal p").html(n),t("#Modal").addClass("width500"),t("#Backdrop, #Modal").addClass("visible"),r!=null)t(".close-modal, #Backdrop").on("click",r)}function w(n,t,r,u){o("warning",n,t,r?r:i.Close,u)}function b(n,t,r,u){d("warning",n,t,r?r:i.Close,u)}function k(n,t,r,u){o("success",n,t,r?r:i.Close,u)}function l(n,t,r){o("error",n||i.GenericError,i.Error,r||i.Close,t)}function o(t,i,f,e,o){n.sweetAlertInitialize();r({title:u(f),text:u(i),type:t,confirmButtonText:e},o)}function d(t,i,f,e,o){n.sweetAlertInitialize();r({title:u(f),text:u(i),type:t,confirmButtonText:u(e),showCancelButton:!0,confirmButtonColor:"#DD6B55",closeOnConfirm:!0},o)}function u(n){return String(n).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function a(n,t){var r=n&&t&&n.errorcode?t[n.errorcode.toString()]:undefined;return typeof r=="undefined"?r=n&&n.errormessage?n.errormessage:i.UnknownError:r+=n.data?" "+n.data:"",r}function g(n,t,i,r){var u=a(n,r);l(u,t,i)}function nt(){var i=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),n,t;return i?!0:(n=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),n)?!0:(t=/MSIE/.test(navigator.userAgent),t)?!0:!1}function tt(n){var u,i,r,t;if(!n)return new Date(null);if(nt()){if(n=n.replace(/\+.+/,""),n=n.replace(/\..+/,""),u=n.split("T"),u&&u.length===2&&n!=="0001-01-01T00:00:00"&&(i=u[0].split("-"),r=u[1].split(":"),i&&i.length===3&&r&&r.length===3))return t={year:i[0],month:i[1]-1,day:i[2],hours:r[0],minutes:r[1],seconds:r[2]},new Date(t.year,t.month,t.day,t.hours,t.minutes,t.seconds,0)}else return new Date(n);return null}function it(){var n=new Date;return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds())}function rt(){for(var i,t=arguments[0],n=0;n<arguments.length-1;n++)i=new RegExp("\\{"+n+"\\}","gm"),t=t.replace(i,arguments[n+1]);return t}return{parseBool:s,sameTopPosition:v,jQuerize:f,is$Null:e,isAuthenticated:y,getLoginPath:p,getBoolHidden:h,showMessage:c,showWarning:w,showWarningWithCancelButton:b,showError:l,showSuccess:k,extractErrorMessage:a,showDataError:g,fromIsoDateToDate:tt,getUtcDate:it,formatString:rt}}()}(window,jQuery,window.Translations,window.swal),function(n){"use strict";function t(t){function u(n,r,u,f){var e=Data.baseAddress,o=Data&&Data.languageCode?"/"+Data.languageCode:"";i++;t.post(e+n,r).then(function(n){i--;u(n)},function(n){i--;f(n)})}function f(r,u,f,e){var o=n.baseAddress,s=n&&n.languageCode?"/"+n.languageCode:"";i++;t.get(o+s+r,{params:u},null).then(function(n){i--;f(n)},function(n){i--;e(n)})}var r={},e=n.eventCode,i=0;return r.post=u,r.get=f,r.currentrequests=function(){return i},r}angular.module("app").factory("requestService",t);t.$inject=["$http","$cookieStore","$rootScope","$timeout"]}(Data),function(){"use strict";angular.module("app").service("listScreenManagerService",[ListScreenManager])}(),function(){"use strict";function n(n,t,i,r){function f(n,t,i){r(function(){var n;n={success:!0};i(n)},1e3)}function e(r,u){var f=Base64.encode(r+":"+u);i.globals={currentUser:{username:r,authdata:f}};n.defaults.headers.common.Authorization="Basic "+f;t.put("globals",i.globals)}function o(){i.globals={};t.remove("globals");n.defaults.headers.common.Authorization="Basic "}var u={};return u.Login=f,u.SetCredentials=e,u.ClearCredentials=o,u}angular.module("app").factory("AuthenticationService",n);n.$inject=["$http","$cookieStore","$rootScope","$timeout"]}(),function(n){"use strict";function t(t){function r(n,i){var r=Data.baseAddress;t.post(r+"/setup/event/get").then(function(t){n(t)},function(n){i(n)})}function u(n,i,r){var u=Data.baseAddress;t.post(u+"/setup/event/save",{event:n}).then(function(n){i&&i(n)},function(n){r&&r(n)})}function f(n,i){var r=Data.baseAddress;t.get(r+"/setup/basiccode/list?a=1").then(function(t){n(t)},function(n){i(n)})}function e(n,i,r){var u=Data.baseAddress;t.post(u+"/setup/basiccode/get",{id:n}).then(function(n){i(n)},function(n){r(n)})}function o(n,i,r){var u=Data.baseAddress;t.post(u+"/setup/basiccode/save",{basiccodetype:n}).then(function(n){i(n)},function(n){r(n)})}function s(n,i){var r=Data.baseAddress;t.post(r+"/setup/currency/list").then(function(t){n&&n(t)},function(n){i&&i(n)})}function h(i,r,u){var f=n.baseAddress;t.post(f+"/setup/currency/get",{id:i}).then(function(n){r(n)},function(n){u(n)})}var i={};return i.basicCodesSelect=f,i.basicCodeGet=e,i.eventGet=r,i.eventSave=u,i.basicCodeSave=o,i.currencySelect=s,i.currencyGet=h,i}angular.module("app").factory("setupService",t);t.$inject=["$http","$cookieStore","requestService"]}(Data),function(){"use strict";function n(n){function i(t,i){var r=Data.baseAddress;n.post(r+"/sales/account/list").then(function(n){t(n)},function(n){i(n)})}function r(t,i,r){var u=Data.baseAddress;n.post(u+"/sales/account/get",{id:t}).then(function(n){i(n)},function(n){r(n)})}var t={};return t.accountSelect=i,t.accountGet=r,t}angular.module("app").factory("salesService",n);n.$inject=["$http","$cookieStore","$rootScope","$timeout"]}(),function(n){var t=n.module("app").controller("loginController",["$scope","$http","AuthenticationService",function(n,t,i){var r=Data.baseAddress;n.userdata={login:null,password:null};n.serverresponse=null;n.isprocessing=!1;n.LoginUser=function(){n.isprocessing=!0;i.Login(n.userdata.login,n.userdata.password,function(t){n.isprocessing=!1;t.success?document.location.href=Data.baseAddress:n.serverresponse=t.message})}}])}(window.angular,Translations,window.hasapp),function(n){var t=n.module("app").controller("basiccodelistController",["$scope","$http","setupService","$animate",function(t,i,r){var f=Data.baseAddress,u;t.codeTypes=[];t.edititem=null;t.edititemcopy=null;t.listview=!0;t.detailview=!1;t.detailitem={};t.detailitemcopy={};t.searchfilters={};t.searchfilterslist={};u=function(){for(var i=n.copy(t.detailitem),r=i.Values.length-1;r>=0;r--)i.Values[r].HasChanges==0&&i.Values.splice(r,1);return i.HasChanges=2,i};t.LoadBasicCodes=function(){t.isprocessing=!0;r.basicCodesSelect(function(n){t.isprocessing=!1;n.data.result?(t.codeTypes=n.data.data,console.trace(n.data.data)):t.serverresponse=n.data.message},null)};t.GetBasicCode=function(n){t.isprocessing=!0;n.Values&&n.Values.length!=0?(t.detailitem=n.Values,t.isprocessing=!1):r.basicCodeGet(n.ID,function(i){t.isprocessing=!1;i.data.result?(n.Values=i.data.data,t.detailitem=n.Values):t.serverresponse=i.data.message},null)};t.addvalue=function(){var i={ID:0,HasChanges:1,ValueCode:"",ValueName:"",Value1:null,Value2:null,Value3:null,Value4:null,TableId:t.detailitem.TableId};t.detailitem.Values.push(i);t.edititem=i;t.edititemcopy=n.copy(i)};t.edit=function(i){t.edititem=i;t.edititemcopy=n.copy(i)};t.delete=function(n,i){n.HasChanges==1?t.detailitem.Values.splice(i,1):n.HasChanges=3};t.apply=function(){n.copy(t.edititemcopy,t.edititem);t.edititemcopy=null;t.edititem.HasChanges!=1&&(t.edititem.HasChanges=2);t.edititem=null};t.saveitem=function(){t.isprocessing=!0;var n=u();r.basicCodeSave(n,function(n){t.isprocessing=!1;n.data.result?t.detailitem=n.data.data:t.serverresponse=n.data.message},null)};t.canceledit=function(){t.edititem=null;t.edititemcopy=null};t.showdetail=function(n){t.listview=!1;t.detailview=!0;t.GetBasicCode(n);console.trace(t.detailitem)};t.showlist=function(){t.listview=!0;t.detailview=!1};t.LoadBasicCodes();console.trace("$scope.codeTypes:"+t.codeTypes.length)}])}(window.angular,Translations,window.hasapp),function(n){var t=n.module("app").controller("eventController",["$scope","$http","setupService",function(n,t,i){var r=Data.baseAddress;n.item={};n.getitem=function(){n.isprocessing=!0;i.eventGet(function(t){n.isprocessing=!1;t.data.result?(n.item=t.data.data,n.item.EndDate=new Date(n.item.EndDate),n.item.StartDate=new Date(n.item.StartDate)):n.serverresponse=t.data.message},null)};n.saveitem=function(){n.isprocessing=!0;n.item.HasChanges=2;i.eventSave(n.item,function(t){n.isprocessing=!1;t.data.result?(n.item=t.data.data,n.item.EndDate=new Date(n.item.EndDate),n.item.StartDate=new Date(n.item.StartDate)):n.serverresponse=t.data.message},null)};n.getitem();console.trace("$scope.item:"+n.item)}])}(window.angular,Translations,window.hasapp),function(n){var t=n.module("app").controller("currencyController",["$scope","$http","setupService","listScreenManagerService",function(n,t,i,r){n.screenmanager=r;n.screenmanager.Configure({listview:!0,getlistcallback:i.currencySelect,getitemcallback:n.getitem,saveitemcallback:i.currenciesSave});n.screenmanager.loadlist();n.getitem=function(n){return n}}])}(window.angular,Translations,window.hasapp),function(n){var t=n.module("app").controller("accountlistController",["$scope","$http","salesService","listScreenManagerService",function(n,t,i,r){var u=Data.baseAddress;n.screenmanager=r;n.screenmanager.Configure({listview:!0,getlistcallback:i.accountSelect,getitemcallback:i.accountGet,saveitemcallback:i.accountSave});n.screenmanager.loadlist()}])}(window.angular,Translations,window.hasapp);
//# sourceMappingURL=app.min.js.map
